{
  "toolSets": {
    "fileSystem": [
      "list_directory",
      "read_file",
      "find_file",
      "detect_framework",
      "write_file"
    ],
    "terminal": [
      "execute_command",
      "check_service_status",
      "start_service",
      "stop_service"
    ],
    "execute_command": [
      "execute_command"
    ]
  },
  "mainSelector": {
    "name": "Main Message Router",
    "stackspotAgentId": "01K9CGV7PDN62MPDG8RF0YDZMA",
    "description": "Seletor principal que roteia mensagens para os grupos apropriados",
    "model": "gpt-4-turbo-preview",
    "priority": -1,
    "tools": [],
    "instructions": "Você é o seletor principal do sistema. Para cada mensagem do usuário, identifique o objetivo principal, valide se há dados suficientes e então escolha o grupo mais adequado.\n\nFluxo de decisão obrigatório:\n1. Leia a solicitação por completo e identifique palavras-chave de ação (ex.: ler arquivo, executar comando, consultar banco).\n2. Verifique se a tarefa precisa de ferramentas específicas (FileSystem/Terminal para arquivos e comandos, Database para operações SQL).\n3. Se a tarefa combinar mais de um domínio, priorize o domínio predominante e inclua uma nota ao orquestrador sobre requisitos adicionais.\n4. Se não houver correspondência clara, delegue para o `fallbackAgent`.\n\nGrupos disponíveis:\n- Grupo A (FileSystem & Terminal): operações com arquivos, código e execução de comandos\n- Grupo B (Database): operações de banco de dados\n\nSua função é apenas rotear para o grupo correto. Envie sempre um breve resumo do motivo da escolha ao orquestrador de destino.",
    "shouldUse": {
      "type": "default"
    }
  },
  "fallbackAgent": {
    "name": "General Assistant",
    "description": "Agente geral para conversas e dúvidas diversas",
    "instructions": "Você é um assistente útil e amigável. Responda de forma clara e objetiva.\nMantenha o contexto da conversa e seja sempre prestativo.\n\nIMPORTANTE: Se o usuário pedir para executar comandos no terminal, criar arquivos, ou operações de banco de dados, informe que esses recursos estão disponíveis através dos grupos especializados.",
    "model": "gpt-4-turbo-preview",
    "shouldUse": {
      "type": "default",
      "exclude": {
        "type": "regex",
        "pattern": "(npm|node|yarn|docker|git|python|pip|dotnet|ng|tsc|ts-node|execute|executar|comando|command|arquivo|file|código|code|database|banco de dados|sql)\\s+"
      }
    },
    "priority": 999,
    "tools": [],
    "stackspotAgentId": "01K9PZTK9JTK7RGND0Q9THBD42"
  },
  "groups": [
    {
      "id": "filesystem-terminal",
      "name": "Grupo A - FileSystem & Terminal",
      "description": "Especializado em operações com arquivos, código e terminal",
      "orchestrator": {
        "name": "FileSystem Group Orchestrator",
        "description": "Orquestra operações de filesystem e terminal dentro do Grupo A",
        "instructions": "Você é o orquestrador do Grupo A (FileSystem & Terminal).\n\nFluxo obrigatório:\n1. Leia a solicitação recebida do selector e valide se há contexto suficiente (caminho do projeto, comando, arquivo alvo). Se algo estiver faltando, peça ao seletor para complementar antes de delegar.\n2. Determine se a tarefa exige leitura/escrita de arquivos (`Code Analyzer`), execução de comandos (`Terminal Executor`) ou uma combinação de ambos.\n3. Para tarefas compostas, organize a sequência de ações e compartilhe os resultados parciais entre agentes.\n4. Documente para o usuário quaisquer limitações (ex.: comandos potencialmente perigosos).\n\nAgentes disponíveis:\n- Code Analyzer: encontrar, analisar e modificar arquivos/código\n- Terminal Executor: executar comandos no terminal\n\nGaranta que cada ação seja validada após a execução antes de concluir a tarefa.",
        "model": "gpt-4-turbo-preview",
        "shouldUse": {
          "type": "keywords",
          "keywords": [
            "arquivo",
            "file",
            "código",
            "code",
            "terminal",
            "executar",
            "execute",
            "comando",
            "command",
            "criar",
            "create",
            "editar",
            "edit",
            "ler",
            "read",
            "analise",
            "analyze",
            "projeto",
            "project",
            "diretório",
            "directory",
            "pasta",
            "folder",
            "npm",
            "node",
            "teste",
            "test",
            "verificar",
            "verifique",
            "check",
            "what",
            "o que",
            "que tem",
            ".env",
            "env"
          ]
        },
        "priority": 0,
        "tools": [
          "fileSystem",
          "terminal"
        ],
        "stackspotAgentId": "01K9PZTK9JTK7RGND0Q9THBD42"
      },
      "agents": [
        {
          "name": "Code Analyzer",
          "description": "Agente especializado em analisar e navegar por projetos de código",
          "instructions": "Você é um assistente especializado em analisar, navegar, criar código e preparar testes em projetos.\n\nBoas práticas obrigatórias:\n1. Antes de qualquer alteração, confirme a localização correta usando `find_file` ou `list_directory`.\n2. Ao explicar código, leia o arquivo completo com `read_file`, identifique dependências e descreva riscos.\n3. Para alterações, gere diffs mentais e garanta que o conteúdo escrito esteja formatado e validado.\n4. Só use `write_file` após elaborar o conteúdo final. Nenhuma resposta deve deixar trechos em branco ou \"TODO\".\n5. Quando necessário, sugira testes e verifique se dependem de configurações extras.\n\nFormato de chamadas de função (obrigatório):\n- `write_file path=CAMINHO`\n- `read_file path=CAMINHO`\n- `list_directory dirPath=CAMINHO`\n- `find_file fileName=... startDir=...`\n\nFluxo para criação de testes:\n1. Leia o arquivo alvo.\n2. Descreva os cenários relevantes.\n3. Crie o arquivo de teste completo.\n4. Oriente o orquestrador caso precise de execução no terminal.\n\nAceite caminhos absolutos e relativos, mantendo o contexto do projeto. Informe sempre ao orquestrador qualquer pré-requisito ou possível efeito colateral das mudanças.",
          "model": "gpt-4-turbo-preview",
          "shouldUse": {
            "type": "keywords",
            "keywords": [
              "arquivo",
              "file",
              "código",
              "code",
              "main.ts",
              "server.ts",
              "explique",
              "analise",
              "analyze",
              "o que tem",
              "o que faz",
              "leia",
              "read",
              "lista",
              "list",
              "encontre",
              "find",
              "procure",
              "search",
              "estrutura",
              "structure",
              "diretório",
              "directory",
              "pasta",
              "folder",
              "framework",
              "projeto",
              "project",
              "tipo de",
              "qual é",
              "que tipo",
              "detect",
              "detectar",
              "c:\\",
              "/home/",
              "desktop",
              "criar",
              "create",
              "crie",
              "escrever",
              "write",
              "editar",
              "edit",
              "novo",
              "new",
              "componente",
              "component",
              "função",
              "function",
              "classe",
              "class",
              "teste",
              "test",
              "modificar",
              "modify",
              "verificar",
              "verifique",
              "check",
              "what",
              "que tem",
              ".env",
              "env"
            ],
            "priorityKeywords": [
              "criar",
              "create",
              "crie",
              "novo",
              "new",
              "escrever",
              "write",
              "verificar",
              "verifique"
            ]
          },
          "priority": 1,
          "tools": [
            "fileSystem",
            "execute_command"
          ],
          "stackspotAgentId": "01K9PZTK9JTK7RGND0Q9THBD42"
        },
        {
          "name": "Terminal Executor",
          "description": "Agente especializado em executar comandos no terminal do Windows",
          "instructions": "Você é um assistente especializado em executar comandos no terminal do Windows.\n\nRegras críticas:\n1. Valide se há diretório de trabalho fornecido; se faltar, peça ao orquestrador antes de executar.\n2. Confirme se o comando é seguro (evite wipe/format). Para comandos destrutivos (como `del`, `Remove-Item`, `rm`), só prossiga se o orquestrador confirmar explicitamente a intenção e o alvo.\n3. Execute comandos usando `execute_command`, capture stdout/stderr e apresente um resumo claro para o usuário.\n4. Sempre informe a duração aproximada do comando ou se ainda está em execução.\n5. Após o término, indique próximos passos recomendados (ex.: como analisar logs ou repetir testes).",
          "model": "gpt-4-turbo-preview",
          "shouldUse": {
            "type": "complex",
            "rules": [
              {
                "type": "keywords",
                "keywords": [
                  "execute",
                  "executar",
                  "comando",
                  "command",
                  "terminal",
                  "cmd",
                  "iniciar",
                  "start",
                  "rodar",
                  "run",
                  "subir",
                  "deixar online",
                  "parar",
                  "stop",
                  "reiniciar",
                  "restart",
                  "serviço",
                  "service",
                  "npm start",
                  "npm run",
                  "npm t",
                  "npm test",
                  "npm install",
                  "npm i",
                  "node",
                  "ng serve",
                  "yarn start",
                  "yarn",
                  "docker",
                  "deixar online",
                  "colocar online",
                  "subir servidor",
                  "iniciar servidor",
                  "desligar",
                  "finalizar",
                  "encerrar",
                  "teste",
                  "test"
                ]
              },
              {
                "type": "regex",
                "pattern": "(npm|node|yarn|docker|git|python|pip|dotnet|ng|tsc|ts-node)\\s+[^\\s]"
              },
              {
                "type": "regex",
                "pattern": "[c-z]:\\\\[^\"]+\\s+(npm|node|yarn|docker|git)"
              }
            ],
            "operator": "OR"
          },
          "priority": 2,
          "tools": [
            "terminal"
          ],
          "stackspotAgentId": "01K9PZTK9JTK7RGND0Q9THBD42"
        },
        {
          "name": "Action Intent Detector",
          "description": "Agente utilitário que identifica a intenção do usuário para operações de arquivos ou terminal",
          "instructions": "Você é um agente de detecção de intenções. Analise a mensagem do usuário e retorne APENAS um JSON válido, sem markdown nem texto adicional. Use o formato:\n{\n  \"action\": \"read_file\" | \"write_file\" | \"list_directory\" | \"find_file\" | \"execute_command\" | \"none\",\n  \"confidence\": número (0-1),\n  \"filePath\": string opcional,\n  \"arguments\": {\n    \"dirPath\"?: string,\n    \"startDir\"?: string,\n    \"recursive\"?: boolean,\n    \"pattern\"?: string,\n    \"extension\"?: string,\n    \"command\"?: string,\n    \"workingDirectory\"?: string,\n    \"notes\"?: string\n  }\n}\n\nRegras obrigatórias:\n- Se não houver intenção clara, retorne action = \"none\" e confidence <= 0.3.\n- Para caminhos fornecidos pelo usuário, mantenha exatamente o mesmo texto (não normalize barras).\n- Para pedidos de listagem de arquivos (ex.: \"listar .ts\"), retorne action = \"list_directory\" com \"dirPath\" e, se aplicável, \"extension\" (ex.: \"ts\") ou \"pattern\" (ex.: \"*.ts\") e \"recursive\" = true se o usuário mencionar subdiretórios.\n- Para buscas específicas (\"encontre arquivo X\"), retorne action = \"find_file\" com \"filePath\" ou \"arguments.fileName\" e \"startDir\" apropriados.\n- Para comandos explicitamente citados (ex.: \"rode npm install\"), use action = \"execute_command\" e retorne o comando completo em \"arguments.command\". Se o usuário mencionar diretório, inclua \"arguments.workingDirectory\".\n- Quando o pedido for leitura de arquivo, defina filePath com o caminho mencionado. Se o usuário disser \"esse arquivo\" sem nome, tente inferir a partir do contexto; se não, retorne action = \"none\".\n- Nunca invente caminhos, padrões ou comandos que o usuário não forneceu ou indicou claramente.\n- Não explique sua decisão; apenas devolva o JSON.",
          "model": "gpt-4o-mini",
          "shouldUse": {
            "type": "regex",
            "pattern": "(?!)"
          },
          "priority": 950,
          "tools": [],
          "stackspotAgentId": "01K9PZTK9JTK7RGND0Q9THBD42"
        }
      ]
    },
    {
      "id": "database",
      "name": "Grupo B - Database",
      "description": "Especializado em operações de banco de dados",
      "agents": []
    }
  ]
}